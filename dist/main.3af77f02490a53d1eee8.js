(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var a=e.g.document;if(!t&&a&&(a.currentScript&&"SCRIPT"===a.currentScript.tagName.toUpperCase()&&(t=a.currentScript.src),!t)){var n=a.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"28bdb45b1e7aa46bfc3f.mp3",a=e.p+"b7ee8a84e7ecf1112c27.mp3",n=e.p+"64770b0562a1bdf7dd6e.mp3",r=e.p+"93c52d8851e43e5337b5.mp3",i=e.p+"11189d941ddb90705d07.mp3",d=e.p+"24f5c09b90641ef35477.mp3",o=e.p+"0bcf5e8b22d77e5def0b.mp3",c=e.p+"9d90cc3d0c698cedd992.mp3",s=e.p+"7eeb318283649b904d1c.mp3",u=e.p+"f762646bd271a406f097.mp3",m=e.p+"b2212dd36d48baa9a258.mp3",l=e.p+"ebdd95f0d85d38817aa4.mp3",p=e.p+"e43d6d7c9561b6e4a945.jpg",w=e.p+"d1128865d59ba85dc5e6.jpg",_=e.p+"13bce02b9e5f4aef9b9d.jpg",h=e.p+"63a748d559d1c2333962.jpg",b={Clear:{season:"summer",weather:"day",icon:"☀️"},Rain:{season:"autumn",weather:"rain",icon:"🌧️"},Snow:{season:"winter",weather:"rain",icon:"❄️"},Clouds:{season:"spring",weather:"sky",icon:"☁️"}};document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("weatherDemoBtn"),t=document.querySelector(".Current_weather_box_deactivated, .Current_weather_box_activated, .Current_weather_box_hidden");e&&t&&(e.addEventListener("click",async()=>{try{const e=await fetch("https://api.openweathermap.org/data/2.5/weather?q=Moscow&appid=4f88e5828fe24476bddb03ace0378f39&units=metric"),a=await e.json(),n=a.weather[0].main,r=b[n];r?(t.classList.remove("Current_weather_box_deactivated","Current_weather_box_hidden"),t.classList.add("Current_weather_box_activated"),t.querySelector(".City_name").textContent=a.name,t.querySelector(".Temperature").textContent=`${Math.round(a.main.temp)}°C`,t.querySelector(".Weather_icon").textContent=r.icon,L(r.weather),setTimeout(()=>{t.classList.add("Current_weather_box_hidden"),setTimeout(()=>{t.classList.remove("Current_weather_box_activated","Current_weather_box_hidden"),t.classList.add("Current_weather_box_deactivated")},500)},5e3)):alert(`Неизвестная погода: ${n}`)}catch(e){console.error(e),alert("Не удалось получить погоду")}}),t.querySelector(".Close_weather").addEventListener("click",()=>{t.classList.add("Current_weather_box_hidden"),setTimeout(()=>{t.classList.remove("Current_weather_box_activated","Current_weather_box_hidden"),t.classList.add("Current_weather_box_deactivated")},500)}))});const v=[{main:"autumn",entrance:"title_autumn"},{main:"winter",entrance:"title_winter"},{main:"summer",entrance:"title_summer"},{main:"spring",entrance:"title_spring"}],y=document.getElementById("volumeSlider");let g;document.addEventListener("DOMContentLoaded",()=>{document.getElementById("day").classList.add("active"),C.weather="day"});const f={summer:{day:new Audio(t),rain:new Audio(a),sky:new Audio(n)},spring:{day:new Audio(o),rain:new Audio(c),sky:new Audio(s)},autumn:{day:new Audio(u),rain:new Audio(m),sky:new Audio(l)},winter:{day:new Audio(r),rain:new Audio(i),sky:new Audio(d)}};Object.values(f).forEach(e=>{e.loop=!0,e.volume=.5});let C={name:null,isPlaying:!1};function L(e){if(document.querySelectorAll(".Swiper_slide_up").forEach(e=>e.classList.remove("active")),document.getElementById(e).classList.add("active"),g=e,C.name){const e=C.weather||g;f[C.name][e]?.pause(),f[C.name][e].currentTime=0,x(C.name),C.weather=g}else console.log(`Погода выбрана: ${g}, но сезон пока не задан`)}function x(e){const t=document.querySelector(".Swiper_slide_up.active").id;g=t;const a={summer:p,winter:w,autumn:_,spring:h};var n,r,i;a[e]?(n=e,r=a[e],i=g,C.name&&C.name!==n&&(f[C.name][i].pause(),f[C.name][i].currentTime=0),C.name===n&&C.isPlaying?(f[n][i].pause(),C.isPlaying=!1):(f[n][i].play(),C={name:n,isPlaying:!0},document.body.style.backgroundImage=`url('${r}')`),console.log(`Время года: ${e}, трек: ${g}`),v.forEach(t=>{const a=document.getElementById(t.entrance);t.main===e?(a.classList.add("Text_content_activated"),a.classList.remove("Text_content_deactivated")):(a.classList.remove("Text_content_activated"),a.classList.add("Text_content_deactivated"))})):console.log("Такого времени года нет")}window.change=L,window.magic=x,y.addEventListener("input",()=>{C.name&&g&&(f[C.name][g].volume=y.value)})})();
//# sourceMappingURL=main.3af77f02490a53d1eee8.js.map